# 自定义词表与回复语

本篇介绍CSK项目的语音交互配置。包含交互模板使用、自定义命令词词条和回复语提示音，也会介绍如何设计合适的命令词词条，并根据词条检测结果对命令词词条进行修改。

## 交互模板

聆思基于在语音交互领域的经验，将常用品类的交互模板进行深度定制，并免费开放。

你可以直接选择模板进行使用，也可以在模板的基础上，进行自定义操作。

::: tip
交互模板的效果会持续升级，模板覆盖品类也会持续增加。
:::



## 自定义词条

### LStudio操作

1. 输入

1. 新增命令词词条时，你可以在【命令词】列中 输入、粘贴词条；
2. 工具可自动识别拼音；若拼音有误，可自行修改（训练时，以拼音为准）；
3. 拼音格式：`da3 kai1 kong1 fei1`，其中字母为拼音，数字为音调；
3. 输入或更改命令词后，系统会对命令词进行检测，请根据检测结果修改命令词；

2. 删除

选中模板后，如果你不需要模板中的部分词条，可以在【模板词条列表】中点击 （删除按钮）进行删除；

3. 检测

填写完成后，点击【词条检测】可对命令词进行检测。

### 检测结果说明

### 唤醒词设计
1. 一般建议4~6个字，4个字最佳。唤醒词过短容易导致误唤醒，过长不利于用户记忆产生使用习惯。
2. 选取的字要发音清晰、能量响度高、开口度大，最好带有爆破音，如：“胖”字、“开”字等。选取能量高的字，更易唤醒。
    - 声母推荐选择包含爆破音声母的音节，如 p、b、t、d、k、g 等，可以提高发音能量。
    - 韵母推荐选择大口型、开口音的韵母，如 a、ai、an、ian、ao、ang，避免 e、i、en、in 等。如：“开”、“嵌”、“跑”等字质量比较好，“妮”、“了”、“敏”、“星”等字质量比较差。
    - 韵母是复韵母，如 ai、ei、ao、ou、ia、ie、ua、uo、üe、iao、iou、uai、uei 等，这样的字质量较好。
3. 建议选择音节较长的字，不要选择音节很短的字，避免无声母的字，如：“安”字。
4. 避免选择重复或者相近读音的字，如：“天天动听”中出现了重复的字，不适合作为唤醒词。唤醒词中相邻音节要规避连音，即避免前一个韵母和后面声母相同或近似，如：“语音”一词存在连音，不适合作为唤醒词。
5. 尽量避免常用词，选用不常说的词作为唤醒词，能有效降低甚至避免误唤醒。如：小姐姐，下一首，继续播放等；
6. 唤醒词不应超过3个词。若唤醒词过多，可能导致误唤醒率增高，请适当配置；
7. 当聆思工作站对唤醒词进行评估低于3星时，一般为高误唤醒词汇，不可使用

### 命令词设计

1. 每个词中相邻汉字的声韵母区分度较大，有些音素发音相近，不宜选取如in和ing，en和eng，b和p等；
2. 每个词中汉字避免带有单音素汉字（即零声母），如“an”，“a”，“ai”，“you”等；
3. 每个词中汉字声调避免都是`第一声`和`第二声`；
4. 避免以数字开头，且数字应该使用中文数字，如：`音量调到二十五`；

1. 字数不宜过长，建议在3-6个字之间，最好在4个字左右。
2. 符合用户的语言习惯，命令词内容具体直接，符合用户常用的说法。
3. 命令词要传达准确，避免泛化。如：在支持上下摆风、左右摆风功能的风扇上，设计“摆风”命令词，无法满足用户的指令预期。
4. 命令词要尽量避免出现子串。如：“十六度”和“二十六度”，词之间的字存在包含关系，在识别时就容易互相串扰，可以改成“调到十六度”和“调到二十六度”进行优化。
5. 如果是泛语料的命令词，为保证命中效果，请将子串和扩展语料都添加到命令词中。
6. 避免使用读音不明的词，如“ECO模式”

::: warning 注意
1. 命令词中的数字需要以汉字表示，如“25”请用“二十五”表示。
2. 若你的词表还未确定，我们建议尽量从聆思提供的深定制命令词表/模板中选择词条。
3. 在词条检测后，我们将会自动为你生成拼音，请特别关注多音字提示中的拼音分解是否有误，若有误，请自行手动更改
:::

## 自定义回复语

### 语音合成TTS回复语

1. 支持发音人、音量、语速的配置；
2. 点击提示音文本后的【播放按钮】，可进行试听;
3. 合成文本支持中英文、数字、标点符号；
4. 若合成读法有误，可使用`合成标记`对合成音频进行干预；

::: tip 常用合成标记
- [h*]：指定单词发音方式。
	- [h1]happy —— 指定为字母发音
	- [h2]happy —— 指定为单词发音
- [n*]：指定数字发音方式。
	- [n1]1200 —— 指定为号码发音：一二零零
	- [n2]1200 —— 指定为数值发音：一千二百
- [=*]：为标记前的一个汉字指定拼音。数字代表音调，支持1~5，其中5为轻声
	- 调[=tiao2] —— 发音为“调整”的“调”
	- 调[=diao4] —— 发音为“音调”的“调”
:::

### 音效提示音

点击【deps\tones_include】，将本地音频文件拖入该条目下，即完成导入。成功导入后，该文件会出现在`interact.csk`文件的选项中，也会出现在`tones.csk`的代码模式中。